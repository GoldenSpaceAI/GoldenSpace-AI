<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>GoldenSpaceAI ‚Ä¢ Plans</title>
  <link rel="icon" href="/favicon.ico"/>
  <style>
    :root{
      --bg:#070b14;
      --card:#0e1626;
      --card2:#0a1222;
      --border:#1f2b45;
      --text:#eaf1ff;
      --muted:#b8c3dc;
      --gold:#f6c64a;
      --gold2:#eb8b36;
      --accent:#7aa6ff;
      --ok:#25d366;
      --x:#ff6262;
      --radius:18px;
      --shadow:0 24px 80px rgba(0,0,0,.55);
      --max:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;color:var(--text);
      font:16px/1.6 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        linear-gradient(180deg, rgba(7,11,20,.75), rgba(7,11,20,.9)),
        url("https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?q=80&w=1920&auto=format&fit=crop") center/cover fixed no-repeat;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    a{color:inherit;text-decoration:none}

    .top{position:sticky;top:0;z-index:20;backdrop-filter:blur(10px);
      background:linear-gradient(180deg, rgba(7,11,20,.85), rgba(7,11,20,.45) 60%, transparent);
      border-bottom:1px solid var(--border); padding:12px 16px; display:flex; align-items:center; gap:12px;}
    .brand{display:flex;align-items:center;gap:10px;color:var(--gold);font-weight:900;letter-spacing:.4px}
    .dot{width:10px;height:10px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#ffd86a,#f6c64a 50%,#eb8b36 90%);box-shadow:0 0 18px rgba(246,198,74,.6)}
    .wrap{max-width:var(--max);margin:22px auto;padding:0 16px}

    .gridTop{display:grid;grid-template-columns:1fr;gap:16px;margin-bottom:18px}
    @media(min-width:900px){.gridTop{grid-template-columns:1fr 1fr 1fr}}

    .card{background:linear-gradient(180deg,var(--card),var(--card2)); border:1px solid var(--border);
      border-radius:var(--radius); box-shadow:var(--shadow); padding:18px; height:fit-content;}
    .card.pro { border: 2px solid rgba(246,198,74,.5); box-shadow: 0 0 30px rgba(246,198,74,.2); }
    .card h2{margin:0 0 8px;font-size:22px;color:#fff6d8}
    .price{font-weight:900; color: var(--gold); font-size: 24px; margin: 10px 0; }
    .period{font-size: 14px; color: var(--muted); }
    .pill{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--border);border-radius:999px;padding:6px 10px;color:var(--muted);font-size:12px}
    ul.feats{margin:10px 0 14px; padding-left:18px}
    ul.feats li{margin:6px 0; font-size: 14px; }
    .ok{color:var(--ok);font-weight:800}
    .no{color:var(--x);font-weight:800}

    .btn{display:inline-flex;align-items:center;justify-content:center;gap:10px;
      padding:12px 14px;border-radius:12px;border:1px solid rgba(0,0,0,.25);font-weight:900;cursor:pointer;
      transition: all 0.3s ease;}
    .btn.gold{background:linear-gradient(180deg,var(--gold),var(--gold2));color:#1c1500;box-shadow:0 10px 26px rgba(246,198,74,.25)}
    .btn.gold:hover{transform: translateY(-2px); box-shadow: 0 15px 35px rgba(246,198,74,.4); }
    .btn.ghost{background:transparent;color:var(--muted);border:1px solid var(--border)}
    .btn.wide{width:100%}

    .loading{opacity:0.7; pointer-events:none;}
    .loading::after{content:"..."; animation: loading 1.5s infinite;}

    @keyframes loading{0%,100%{content:"."}50%{content:".."}}

    footer{max-width:var(--max);margin:26px auto 34px;padding:0 16px;color:#aeb7c5;font-size:12px;
      display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;border-top:1px solid var(--border);padding-top:12px}
    :focus-visible{outline:2px solid var(--gold);outline-offset:2px;border-radius:8px}
  </style>
</head>
<body>
  <div class="top">
    <div class="brand"><span class="dot"></span> GoldenSpaceAI</div>
    <div style="flex:1"></div>
    <a class="pill" href="/index.html">‚Üê Back to Home</a>
  </div>

  <main class="wrap" aria-label="Plans">
    <h1 style="margin:6px 0 12px;font-size:clamp(22px,4vw,34px); text-align: center;">Choose Your Plan</h1>
    <p style="text-align: center; color: var(--muted); margin-bottom: 30px;">Upgrade to unlock powerful AI features</p>

    <!-- Free, Plus, Pro -->
    <section class="gridTop">
      <!-- Free Plan -->
      <article class="card">
        <h2>üåô Free</h2>
        <div class="price">$0<span class="period">/month</span></div>
        <div class="pill">Perfect for trying out</div>
        <ul class="feats">
          <li><span class="ok">‚úì</span> GPT-4o-mini Chat</li>
          <li><span class="ok">‚úì</span> Basic Learning Info</li>
          <li><span class="no">‚úó</span> Advanced AI Models</li>
          <li><span class="no">‚úó</span> Image Generation</li>
          <li><span class="no">‚úó</span> File Upload</li>
          <li><span class="no">‚úó</span> Chat Memory</li>
        </ul>
        <button class="btn ghost wide" onclick="selectFree()">Continue Free</button>
      </article>

      <!-- Plus Plan -->
      <article class="card">
        <h2>‚≠ê Plus</h2>
        <div class="price">$15<span class="period">/month</span></div>
        <div class="pill">Great for regular users</div>
        <ul class="feats">
          <li><span class="ok">‚úì</span> GPT-4o Full Access</li>
          <li><span class="ok">‚úì</span> Advanced Learning</li>
          <li><span class="ok">‚úì</span> Physics Tools</li>
          <li><span class="ok">‚úì</span> Create Planets</li>
          <li><span class="ok">‚úì</span> Space Tools</li>
          <li><span class="no">‚úó</span> GPT-5 Access</li>
          <li><span class="no">‚úó</span> Image Generation</li>
        </ul>
        <button class="btn gold wide" onclick="subscribe('plus', 'monthly')" id="plusBtn">Get Plus</button>
      </article>

      <!-- Pro Plan -->
      <article class="card pro">
        <h2>üöÄ Pro</h2>
        <div class="price">$25<span class="period">/month</span></div>
        <div class="pill">Most Popular ‚Ä¢ Best Value</div>
        <ul class="feats">
          <li><span class="ok">‚úì</span> Everything in Plus</li>
          <li><span class="ok">‚úì</span> GPT-5 & GPT-5-nano</li>
          <li><span class="ok">‚úì</span> DALL-E 3 Image Generation</li>
          <li><span class="ok">‚úì</span> File Upload & Analysis</li>
          <li><span class="ok">‚úì</span> Advanced Chat Memory</li>
          <li><span class="ok">‚úì</span> Homework Solver</li>
          <li><span class="ok">‚úì</span> Lesson Search</li>
          <li><span class="ok">‚úì</span> Custom Instructions</li>
        </ul>
        <button class="btn gold wide" onclick="subscribe('pro', 'monthly')" id="proBtn">Get Pro</button>
      </article>
    </section>

    <div style="text-align: center; margin: 30px 0; color: var(--muted); font-size: 14px;">
      üí´ All paid plans include automatic upgrades via NOWPayments ‚Ä¢ Support for 300+ cryptocurrencies
    </div>

    <footer>
      <div>¬©Ô∏è <span id="yr"></span> GoldenSpaceAI</div>
      <div>
        <a href="/privacy.html">Privacy</a> ¬∑
        <a href="/terms.html">Terms</a> ¬∑
        <a href="/refund.html">Refund Policy</a>
      </div>
    </footer>
  </main>

  <script>
    document.getElementById('yr').textContent = new Date().getFullYear();

    async function subscribe(plan, period) {
      const button = document.getElementById(plan + 'Btn');
      const originalText = button.textContent;
      
      try {
        // Show loading state
        button.classList.add('loading');
        button.textContent = 'Creating Payment';
        
        // Check if user is logged in
        const meResponse = await fetch('/api/me', { credentials: 'include' });
        const meData = await meResponse.json();
        
        if (!meData.loggedIn) {
          if (confirm('You need to log in to subscribe. Go to login page?')) {
            window.location.href = '/login-signup.html';
          }
          return;
        }

        // Create subscription
        const response = await fetch('/api/nowpayments/create-plan', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ plan, period }),
          credentials: 'include'
        });
        
        const data = await response.json();
        
        if (data.success) {
          // Redirect to NOWPayments checkout
          window.location.href = data.invoiceUrl;
        } else {
          alert('Error: ' + (data.error || 'Failed to create subscription'));
        }
      } catch (error) {
        console.error('Subscription error:', error);
        alert('Network error: ' + error.message);
      } finally {
        // Reset button
        button.classList.remove('loading');
        button.textContent = originalText;
      }
    }

    function selectFree() {
      alert('‚úÖ Free plan selected! You can continue using all free features.');
      window.location.href = '/index.html';
    }

    // Add yearly plan option if needed
    function subscribeYearly(plan) {
      if (confirm(`Get 2 months free with yearly billing? ${plan.toUpperCase()} yearly plan would be $${plan === 'plus' ? '150' : '250'}/year`)) {
        subscribe(plan, 'yearly');
      } else {
        subscribe(plan, 'monthly');
      }
    }
  </script>
</body>
</html>
